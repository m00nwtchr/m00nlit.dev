---
import { t, changeLanguage } from 'i18next';
import { Trans } from 'astro-i18next/components';

import { Image } from 'astro:assets';
import { Icon } from 'astro-icon/components';

import Layout from '../layouts/Base.astro';
import { SOCIALS, PROJECTS } from '../index';

const language = Astro.params.lang || 'en';
changeLanguage(language);
---

<Layout
	title={t('pageTitle')}
	description={t('pageDescription')}
	keywords={t('pageKeywords')}
>
	<section class="relative isolate px-5 pt-5 sm:px-28">
		<div class="max-w-2xl">
 			<h1
				class="text-center font-serif text-5xl font-semibold tracking-tight text-balance text-white sm:text-left sm:text-7xl"
			>
				<Trans i18nKey="pageHeader">
					Łukasz
					<br class="hidden sm:inline" />
					Mariański
				</Trans>
			</h1>
			<h2
				class="text-center text-silver-200 text-xl font-medium sm:text-left sm:text-2xl mt-2"
			>
				<Trans i18nKey="pageSubtitle">Freelance Web Developer</Trans>
			</h2>
			<p
				class="text-silver-300 mt-5 text-center text-lg font-medium text-pretty sm:mt-24 sm:w-4/5 sm:text-left"
			>
				<Trans i18nKey="mainText">
					Hi! I'm a freelance web developer passionate about clean design, responsive layouts, and making the internet a more usable place. I specialize in fast, accessible, and modern websites for individuals and small businesses.
				</Trans>
			</p>

			<div
				class="mt-5 flex items-center justify-center gap-x-6 sm:justify-start"
			>
				<a
					href="mailto:lmarianski@protonmail.com"
					class="bg-rhino-600 hover:bg-rhino-500 focus-visible:outline-rhino-600 rounded-md px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"
				>
					<Trans i18nKey="contact-me">Contact me</Trans>
				</a>
				<a href="#projects" class="text-steel-gray-500 text-sm/6 font-semibold">
					<Trans i18nKey="learn-more">Learn more<Trans/><span aria-hidden="true">→</span>
				</a>
			</div>

			<div
				class="my-5 flex justify-center gap-x-10 text-white sm:my-10 sm:justify-start"
			>
				{
					Object.entries(SOCIALS).map(([name, social]) => (
						<a href={social.link}>
							<figure>
								<div
									aria-hidden="true"
									class="text-rhino-400 outline-rhino-400 mx-auto mb-2 flex aspect-square h-12 items-center justify-center rounded-full outline"
								>
									{ social.icon ? <Icon name={social.icon} class="h-4/6 w-4/6" /> : (social.image ? <social.image class="h-4/6 w-4/6" /> : "") }
								</div>
								<figcaption>{name}</figcaption>
							</figure>
						</a>
					))
				}
			</div>
		</div>
	</section>

	<section
		id="projects"
		class="flex flex-col items-center items-stretch gap-10 px-5 sm:flex-row sm:px-28"
	>
		{
			PROJECTS.map((project) => (
				<div class="glass box-border flex flex-1 flex-col gap-5 rounded-2xl p-5 text-center">
					{project.image ? (
						<project.image
							role="img"
							aria-label={project.alt}
							size="auto"
							class="mx-auto w-full border-0 text-white"
							alt={project.alt}
						/>
					) : (
						<h3 class="text-3xl font-bold text-white">{project.name}</h3>
					)}
					<p>{project.description}</p>
					<a
						href={project.link}
						target="_blank"
						class="bg-rhino-600 hover:bg-rhino-500 focus-visible:outline-rhino-600 mt-auto block rounded-md px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"
					>
						Go to site
					</a>
				</div>
			))
		}
	</section>
</Layout>
