---
import { t, changeLanguage } from 'i18next';
import { Trans } from 'astro-i18next/components';

import { Image } from 'astro:assets';
import { Icon } from 'astro-icon/components';

import Layout from '../layouts/Base.astro';
import { SOCIALS, PROJECTS } from '../index';

const language = Astro.params.lang || 'en';
changeLanguage(language);
---

<Layout title={t('pageTitle')}>
	<section class="relative isolate px-5 pt-5 sm:px-28">
		<div class="max-w-2xl">
			<h1
				class="text-center font-serif text-5xl font-semibold tracking-tight text-balance text-white sm:text-left sm:text-7xl"
			>
				<Trans i18nKey="pageHeader">
					Software
					<br class="hidden sm:inline" />
					Engineer
				</Trans>
			</h1>
			<p
				class="text-silver-300 mt-5 text-center text-lg font-medium text-pretty sm:mt-24 sm:w-4/5 sm:text-left"
			>
				Anim aute id magna aliqua ad ad non deserunt sunt. Qui irure qui lorem
				cupidatat commodo. Elit sunt amet fugiat veniam occaecat cupidatat
				commodo. Elit sunt amet fugiat veniam occaecat. Elit sunt amet fugiat
				veniam occaecat.
			</p>

			<div
				class="mt-5 flex items-center justify-center gap-x-6 sm:justify-start"
			>
				<a
					href="#"
					class="bg-rhino-600 hover:bg-rhino-500 focus-visible:outline-rhino-600 rounded-md px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"
					>Get started</a
				>
				<a href="#" class="text-steel-gray-500 text-sm/6 font-semibold"
					>Learn more <span aria-hidden="true">â†’</span></a
				>
			</div>

			<div
				class="my-5 flex justify-center gap-x-10 text-white sm:my-10 sm:justify-start"
			>
				{
					Object.entries(SOCIALS).map(([name, social]) => (
						<a href={social.link}>
							<figure>
								<div
									aria-hidden="true"
									class="text-rhino-400 outline-rhino-400 mx-auto mb-2 flex aspect-square h-12 items-center justify-center rounded-full outline"
								>
									<Icon name={social.icon} class="h-4/6 w-4/6" />
								</div>
								<figcaption>{name}</figcaption>
							</figure>
						</a>
					))
				}
			</div>
		</div>
	</section>

	<section
		class="flex flex-col items-center items-stretch gap-10 px-5 sm:flex-row sm:px-28"
	>
		{
			PROJECTS.map((project) => (
				<div class="glass box-border flex flex-1 flex-col gap-5 rounded-2xl p-5 text-center">
					{project.image ? (
						<project.image
							role="img"
							aria-label={project.alt}
							size="auto"
							class="mx-auto w-full border-0 text-white"
							alt={project.alt}
						/>
					) : (
						<h3 class="text-3xl font-bold text-white">{project.name}</h3>
					)}
					<p>{project.description}</p>
					<a
						href={project.link}
						target="_blank"
						class="bg-rhino-600 hover:bg-rhino-500 focus-visible:outline-rhino-600 mt-auto block rounded-md px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"
					>
						Go to site
					</a>
				</div>
			))
		}
	</section>
</Layout>
